
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="This documet covers vide range of topics from detailed description of hardware infrastructure to the information required to utilize the Madhava HPC Cluster installed in CCMS, NIT Calicut effectively ">
      
      
        <meta name="author" content="CCMS NITC">
      
      
      <link rel="icon" href="../assets/logo_black.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.7">
    
    
      
        <title>System Configuration - Centre for Computational Modelling and Simulation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/termynal.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link rel="stylesheet" href="../overrides/assets/stylesheets/main.c1d34250.min.css">
  <link rel="stylesheet" href="../overrides/stylesheets/global.css">



  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#system-hardware-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
            
  <span class="title">NEWS</span>
  <div class="marquee">
    <ul class="marquee-content" id="news-container">
    </ul>
  </div>
      <script src="../assets/js/news.js"></script>
      <script type="text/javascript">
        loadNews("../news.json")
      </script>

          </div>
          
        </aside>
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Centre for Computational Modelling and Simulation" class="md-header__button md-logo" aria-label="Centre for Computational Modelling and Simulation" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Centre for Computational Modelling and Simulation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              System Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="black"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../getting-started/" class="md-tabs__link">
        Getting started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../softwares/" class="md-tabs__link">
        Softwares
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../storage/" class="md-tabs__link">
        Some Other Topics
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../contact_us/" class="md-tabs__link">
      Contact Us
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Centre for Computational Modelling and Simulation" class="md-nav__button md-logo" aria-label="Centre for Computational Modelling and Simulation" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    Centre for Computational Modelling and Simulation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Softwares
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Softwares" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Softwares
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../softwares/" class="md-nav__link">
        Software
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Some Other Topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Some Other Topics" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Some Other Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storage/" class="md-nav__link">
        Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../queueing/" class="md-nav__link">
        Queuing System
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contact_us/" class="md-nav__link">
        Contact Us
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h2 id="system-hardware-configuration"><strong>System Hardware &amp; Configuration</strong><a class="headerlink" href="#system-hardware-configuration" title="Permanent link">&para;</a></h2>
<p>Total number of nodes: 36 (1 + 31 + 2 + 2)</p>
<ul>
<li>Master/Login/Service nodes: 1</li>
<li>CPU nodes: 31</li>
<li>GPU accelerated nodes: 2</li>
<li>Storage nodes: 2</li>
</ul>
<p><strong>Master/Login/Service Node:1</strong></p>
<p>Madhava HPC cluster is an aggregation of a large number of computers connected through networks. The basic purpose of the master node is to manage and monitor each of the constituent component of Madhava HPC from a systemâ€™s perspective. This involves operations like monitoring the health of the components, the load on the components, the utilization of various sub-components of the computers in Madhava HPC. This also works as a login node which used for administrative tasks such as editing, writing scripts, transferring files, managing your jobs and the like. You will always get connected to one of the login nodes. From the login nodes you can get connected to a compute node and execute and interactive job or submit batch jobs through the batch system (SLURM) to run your jobs on compute nodes. For ALL users Madhava HPC Cluster login nodes are the entry points and hence are shared. This node also works as a service node to provide Job Scheduling Services and other services to the cluster</p>
<p><code>Master/ Login/service Nodes : 1</code></p>
<p>|Model      |Lenovo ThinkSystem SR650              |
|Processor  |2 nos of Intel(R) Xeon(R) Gold 6248 CPU @ 2.50GHz.|
|Cores      |64 cores                      |
|RAM        |192 GB                        |
|HDD        |2 TB                          |</p>
<p><strong>CPU Nodes:31</strong></p>
<p>CPU nodes are indeed the work horses of Madhava HPC. All the CPU intensive activities are carried on these nodes. Users can access these nodes from the login node to run interactive or batch jobs. by users in the aforementioned way.</p>
<p><code>CPU Only Nodes : 31</code>
|Model      |Lenovo ThinkSystem SR630                             |
|Processor  |2 nos of Intel(R) Xeon(R) Gold 6248 CPU @ 2.50GHz.   |
|Cores      |40 cores                                             |
|RAM        |192 GB                                               |
|HDD        |1 TB                                                 |</p>
<p><strong>GPU Nodes:2</strong></p>
<p>GPU compute nodes are the nodes that have CPU cores along with accelerators cards. For some applications GPUs get markedly high performance. For exploiting these, one has to make use of special libraries which map computations on the Graphical Processing Units (Typically one has to make use of CUDA or OpencCL).</p>
<p><code>CPU Only Nodes : 31</code>
|Model          |Lenovo ThinkSystem SR650                 |
|Processor      |2 nos of Intel(R) Xeon(R) Gold 6248 CPU @ 2.50GHz.   |
|Cores          |40 cores                                             |
|RAM            |192 GB                                               |
|HDD            |1 TB                                                 |
|GPU            |2* Tesla V100-PCIE-32GB per node                     |
|GPU cores per node     |2* 5120                                              |
|GPU Tensor Cores   |2* 640                                               |</p>
<p><strong>Storage/ IO nodes:2</strong></p>
<p>Providing the storage service to head and compute nodes using GPFS
<code>Storage/ IO nodes:2</code></p>
<p>|Model      |Lenovo ThinkSystem SR630                              |
|Processor  |2 nos of Intel(R) Xeon(R) Gold 6248 CPU @ 2.50GHz.    |
|Cores      |40 cores                                              |
|RAM        |192 GB                                                |
|HDD        |1 TB                                                  |</p>
<p><strong>Storage Array :2</strong></p>
<p>It's a backend to the IO nodes which is providing storage service to head and compute nodes
<code>Storage/ IO nodes:2</code></p>
<p>|Model      |ThinkSystem DE6000H 2 nos of DE Controller with 16 GB, 60 Chasis.  |
|Home Space     |204 TB                                 |
|Scratch Space  |60 TB                                  |</p>
<h1 id="installing-gmx_mmpbsa">Installing gmx_MMPBSA<a class="headerlink" href="#installing-gmx_mmpbsa" title="Permanent link">&para;</a></h1>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h2>
<p><code>gmx_MMPBSA</code> requires <strong><a href="https://manual.gromacs.org/">GROMACS</a> (series <code>4.x.x</code> or <code>5.x.x</code> or <code>20xx.x</code>)</strong> and 
<strong><a href="https://ambermd.org/AmberTools.php">AmberTools20 or 21</a></strong> to be installed in your machine with <strong>Python3</strong>.
<code>gmx_MMPBSA</code> has been tested with GROMACS <code>4.6.7</code>, <code>5.1.2</code>, <code>2018.3</code>, <code>2020.4</code> and <code>2021.3</code>, although it should run 
smoothly with any GROMACS present in the <code>PATH</code> and that is compatible with the files you are using.</p>
<h2 id="installing-gmx_mmpbsa-v15x">Installing gmx_MMPBSA v1.5.x<a class="headerlink" href="#installing-gmx_mmpbsa-v15x" title="Permanent link">&para;</a></h2>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>gmx_MMPBSA v1.5.x includes a number of new functionalities and parts of the code have been completely rewritten, 
hence is incompatible with previous versions.</p>
</div>
<p>Currently, gmx_MMPBSA can be installed using two ways:</p>
<dl>
<dt><code>conda environment</code></dt>
<dd>The conda environment provides a clean and efficient way of installing gmx_MMPBSA. It also allows to have 
different versions of gmx_MMPBSA in isolated environments, thus reducing the possibility of incompatibility with 
other packages. Installation time is also less since it does not require the compilation of AmberTools or GROMACS. 
(<strong>Recommended, especially if you want to keep older versions of gmx_MMPBSA</strong>)</dd>
<dt><code>AmberTools compilation</code></dt>
<dd>In this way, we assume that you have AmberTools compiled on your machine and that you want to do an installation 
without worrying about enabling or disabling conda environments. It also involves user compilation of GROMACS, which 
takes considerable installation time. This way also requires installed packages to be compatible and installation 
errors are more frequent.</dd>
</dl>
<div class="admonition info">
<p class="admonition-title">Installation</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">conda environment</label><label for="__tabbed_1_2">AmberTools compilation</label><label for="__tabbed_1_3">Miniconda Installation</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1"><code>*.yml file</code></label><label for="__tabbed_2_2"><code>pip</code></label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Installing gmx_MMPBSA using a yml file. </p>
<p><span class="twemoji heart"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14 2 6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8m4 18V9h-5V4H6v16h12m-6-1-4-4h2.5v-3h3v3H16l-4 4Z"/></svg></span> Download <strong><a href="../env.yml">env.yml</a></strong> file</p>
<div class="termy">
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="go">// Create a new environment and use the *.yml file to install dependencies</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="gp">$ </span>conda env create -n gmxMMPBSA --file env.yml
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="go">// To use gmx_MMPBSA, just activate the environment</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="gp">$ </span>conda activate gmxMMPBSA
</code></pre></div>
</div>
<details class="note">
<summary>Copy described intructions</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>conda env create -n gmxMMPBSA --file env.yml                                    <span class="c1"># (1)</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>conda activate gmxMMPBSA                                                        <span class="c1"># (2)</span>
</code></pre></div>
<ol>
<li>Create the <code>gmxMMPBSA</code> environment and use the *.yml file to install dependencies</li>
<li>Activate <code>gmxMMPBSA</code> environment</li>
</ol>
</details>
</div>
<div class="tabbed-block">
<p>Installing dependencies</p>
<div class="termy">
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="go">// Update conda</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="gp">$ </span>conda update conda
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="go">// Create a new environment and activate it</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="gp">$ </span>conda create -n gmxMMPBSA <span class="nv">python</span><span class="o">=</span><span class="m">3</span>.9 -y -q 
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="gp">$ </span>conda activate gmxMMPBSA
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="go">// Install mpi4py and AmberTools</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="gp">$ </span>conda install -c conda-forge <span class="nv">mpi4py</span><span class="o">=</span><span class="m">3</span>.1.3 <span class="nv">ambertools</span><span class="o">=</span><span class="m">21</span>.12 compilers -y -q
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="go">// Install updated version of ParmEd</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="gp">$ </span>python -m pip install git+https://github.com/Valdes-Tresanco-MS/ParmEd.git@v3.4
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="go">// Install PyQt5 required to use the GUI analyzer tool (gmx_MMPBSA_ana). Not needed for HPC</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="gp">$ </span>python -m pip install pyqt5
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="go">// (Optional) Install GROMACS</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="gp">$ </span>conda install -c bioconda <span class="nv">gromacs</span><span class="o">==</span><span class="m">2021</span>.3 -y -q
</code></pre></div>
</div>
<details class="note">
<summary>Copy described intructions</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>conda update conda
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>conda create -n gmxMMPBSA <span class="nv">python</span><span class="o">=</span><span class="m">3</span>.9 -y -q                                      <span class="c1"># (1)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>conda activate gmxMMPBSA                                                        <span class="c1"># (2)</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>conda install -c conda-forge <span class="nv">mpi4py</span><span class="o">=</span><span class="m">3</span>.1.3 <span class="nv">ambertools</span><span class="o">=</span><span class="m">21</span>.12 compilers -y -q      <span class="c1"># (3)</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>python -m pip install git+https://github.com/Valdes-Tresanco-MS/ParmEd.git@v3.4 <span class="c1"># (4)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>python -m pip install pyqt5                                                     <span class="c1"># (5)</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1"># Optional</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>conda install -c bioconda <span class="nv">gromacs</span><span class="o">==</span><span class="m">2021</span>.3 -y -q                                 <span class="c1"># (6)</span>
</code></pre></div>
<ol>
<li>Create <code>gmxMMPBSA</code> environment</li>
<li>Activate <code>gmxMMPBSA</code> environment</li>
<li>Install dependencies</li>
<li>Install ParmEd</li>
<li>Install PyQt5 if you will use gmx_MMPBSA_ana</li>
<li>(Optional) Install GROMACS if GROMACS is not installed in your machine</li>
</ol>
</details>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Rolling/stable release</label><label for="__tabbed_3_2">development version</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><strong>INSTALLATION</strong>
<div class="termy">
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="go">// INSTALLATION</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="gp">$ </span>python -m pip install gmx_MMPBSA
</code></pre></div>
</div></p>
<p><strong>UPDATE</strong>
<div class="termy">
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="go">// UPDATE</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="gp">$ </span>python -m pip install gmx_MMPBSA -U
</code></pre></div>
</div></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Install/update gmx_MMPBSA from PyPI. PyPI has the latest version of <em>gmx_MMPBSA</em> including stable 
and beta versions.</p>
</div>
</div>
<div class="tabbed-block">
<p><strong>INSTALLATION</strong>
<div class="termy">
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="go">// INSTALLATION</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="gp">$ </span>python -m pip install git+https://github.com/Valdes-Tresanco-MS/gmx_MMPBSA
</code></pre></div>
</div></p>
<p><strong>UPDATE</strong>
<div class="termy">
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="go">// UPDATE</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="gp">$ </span>python -m pip install git+https://github.com/Valdes-Tresanco-MS/gmx_MMPBSA -U
</code></pre></div>
</div></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Install gmx_MMPBSA from the master branch of GitHub repository. This is only recommended 
for testing new versions or temporary solutions to reported bugs.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="tabbed-block">
<p><a href="https://ambermd.org/Installation.php">Follow the oficial AmberTools installation according to your OS</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We asume that AmberTools and their shell environment are correctly configured</p>
</div>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Rolling/stable release</label><label for="__tabbed_4_2">development version</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><strong>INSTALLATION</strong>
<div class="termy">
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="go">// Install uodated ParmEd</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="gp">$ </span>amber.python -m pip install git+https://github.com/Valdes-Tresanco-MS/ParmEd.git@v3.4
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="go">// Install gmx_MMPBSA</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="gp">$ </span>amber.python -m pip install gmx_MMPBSA                                               
</code></pre></div>
</div></p>
<p><strong>UPDATE</strong>
<div class="termy">
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="go">// Update gmx_MMPBSA</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="gp">$ </span>amber.python -m pip install gmx_MMPBSA -U
</code></pre></div>
</div></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Install gmx_MMPBSA from PyPI PyPI has the latest version of <em>gmx_MMPBSA</em> including stable and beta
versions.</p>
</div>
</div>
<div class="tabbed-block">
<p><strong>INSTALLATION</strong>
<div class="termy">
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>// Install updated ParmEd
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>$ amber.python -m pip install git+https://github.com/Valdes-Tresanco-MS/ParmEd.git@v3.4
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>// Install gmx_MMPBSA
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>$ amber.python -m pip install git+https://github.com/Valdes-Tresanco-MS/gmx_MMPBSA     
</code></pre></div>
</div></p>
<p><strong>UPDATE</strong>
<div class="termy">
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>amber.python -m pip install git+https://github.com/Valdes-Tresanco-MS/gmx_MMPBSA -U
</code></pre></div>
</div></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Install/update gmx_MMPBSA from the master branch of GitHub repository. This version is only recommended 
to test a new version or to try temporary solutions to reported bugs.</p>
</div>
</div>
</div>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>If you get an error related to installing <code>mpi4py</code>, you may want to install this package manually from 
<code>conda-forge</code> as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>amber.conda install -c conda-forge mpi4py=3.1.3
</code></pre></div>
<p>If you get an error related to <code>pip</code>, you may want to install this package manually as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>amber.conda install pip
</code></pre></div>
</div>
</div>
<div class="tabbed-block">
<p><a href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a> installation
<div class="termy">
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>$ curl -O https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>---&gt; <span class="m">100</span>%
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>$ chmod +x Miniconda3-latest-Linux-x86_64.sh
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>$ ./Miniconda3-latest-Linux-x86_64.sh
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>---&gt; <span class="m">100</span>%
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>Successful miniconda intallation
</code></pre></div>
</div></p>
</div>
</div>
</div>
</div>
<h3 id="extra-dependencies">Extra Dependencies<a class="headerlink" href="#extra-dependencies" title="Permanent link">&para;</a></h3>
<p>gmx_MMPBSA uses some dependencies for other functions independent of calculations or in some cases they may be 
necessary due to the nature of your OS.</p>
<dl>
<dt><code>ParmEd</code></dt>
<dd>
<p>The current version of ParmEd implemented in AmberTools has some limitations that have been resolved in the <a href="https://github.com/ParmEd/ParmEd/tree/16fb2364c284f7c1dd716ee912c5c674b5d31e46">GitHub 
repository</a> by its author Jason 
Swails and others with our help.</p>
<p>Some of these limitations are:</p>
<ul>
<li>Error reading topology when it has insertion codes</li>
<li>Error processing topologies generated with the Amber ff19SB force field</li>
<li>New PBRadii sets for GAFF and CHARMM force fields</li>
</ul>
</dd>
</dl>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>The gmx_MMPBSA installation process has been optimized to be as straightforward as possible. In rare cases, a 
few extra dependencies may be needed.</p>
</div>
<dl>
<dt><code>pip</code></dt>
<dd>
<p>In some cases, the miniconda environment created in the AmberTools compilation does not have the <code>pip</code> module, so
any installation that depends on this package will fail. Required only if you did not install gmx_MMPBSA via <code>conda</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>amber.conda install pip    
</code></pre></div>
</dd>
<dt><code>Git</code></dt>
<dd>
<p>Used by <strong>gmx_MMPBSA_test</strong> to download the GitHub repository to get the examples' folder or to install the 
development version.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>conda install -c anaconda git
</code></pre></div>
or 
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>sudo apt install git 
</code></pre></div></p>
</dd>
<dt><code>mpi</code></dt>
<dd>In some cases it is necessary to install the MPI dependencies. Required only if you did not install 
gmx_MMPBSA via <code>conda</code>
   <div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>sudo apt install openmpi-bin libopenmpi-dev openssh-client
</code></pre></div></dd>
<dt><code>libxcb</code></dt>
<dd>If you get an error related to Qt plugins
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>sudo apt install --reinstall libxcb-xinerama0
</code></pre></div></dd>
</dl>
<hr />
<h2 id="troubleshooting-after-installation">Troubleshooting after installation<a class="headerlink" href="#troubleshooting-after-installation" title="Permanent link">&para;</a></h2>
<p>Once the installation is completed, the following warning may appear:</p>
<div class="highlight"><pre><span></span><code>WARNING: The scripts gmx_MMPBSA, gmx_MMPBSA_ana and gmx_MMPBSA_test 
are installed in &#39;/home/user/path_to_amber_install/amber20/miniconda/bin&#39;
which is not on PATH.
</code></pre></div>
<p>This warning is because <code>pip</code> installs the executables (<code>gmx_MMPBSA</code>, <code>gmx_MMPBSA_ana</code> and <code>gmx_MMPBSA_test</code>) in 
<code>installation_path/amber20/miniconda/bin</code>.</p>
<p>You have two options to solve this:</p>
<ul>
<li>
<p>Add this folder (*/amber20/miniconda/bin) to PATH:</p>
<div class="highlight"><pre><span></span><code>export PATH=&quot;/path_to_amber_install/amber20/miniconda/bin:$PATH&quot;
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul>
<li>This option is more permanent and is recommended if you don't want to activate and deactivate the conda 
environment</li>
<li>Make sure to update <strong>path_to_amber_install</strong> in the PATH variable</li>
</ul>
</div>
</li>
<li>
<p>Initializing the environment of conda amber:</p>
<div class="highlight"><pre><span></span><code>amber.conda init bash
</code></pre></div>
<p>You can deactivate like this:</p>
<div class="highlight"><pre><span></span><code>conda deactivate
</code></pre></div>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After using one of the above options, you should be able to run <code>gmx_MMPBSA</code>, <code>gmx_MMPBSA_ana</code> and <code>gmx_MMPBSA_test</code> 
through the terminal</p>
</div>
<p>If when running <code>gmx_MMPBSA</code>, you get an error like this:</p>
<div class="highlight"><pre><span></span><code>ModuleNotFoundError: No module named &#39;parmed&#39;
</code></pre></div>
<p>please see the following <a href="https://github.com/Valdes-Tresanco-MS/gmx_MMPBSA/issues/2">issue</a> to see the solution</p>
<h2 id="autocompletion-script">Autocompletion script<a class="headerlink" href="#autocompletion-script" title="Permanent link">&para;</a></h2>
<p>Since <code>gmx_MMPBSA</code> has many flags, we believe that this autocompletion can significantly improve productivity, be
more user-friendly and reduce the number of unforced errors. That is why we created this script, which manages the
autocompletion of the <code>gmx_MMPBSA</code>, <code>gmx_MMPBSA_ana</code> and <code>gmx_MMPBSA_test</code>.</p>
<p><strong>Execution:</strong>
Enter the following command in the terminal:</p>
<div class="highlight"><pre><span></span><code>source /path/to/ambertools/lib/python3.x/site-packages/GMXMMPBSA/GMXMMPBSA.sh
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want it to be activated automatically, add that command to your .bashrc</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul>
<li>This script requires that <code>gmx_MMPBSA</code>, <code>gmx_MMPBSA_ana</code> and <code>gmx_MMPBSA_test</code> be accessible in PATH</li>
<li>
<p>If the command-line above end in error, please make sure the file has executed permissions. </p>
<p>On Ubuntu, Debian, Linux Mint or related:</p>
<ul>
<li>
<p>GUI:</p>
<ul>
<li>
<p><code>Right-click on GMXMMPBSA.sh file</code> &gt;</p>
</li>
<li>
<p><code>Properties</code> &gt; </p>
</li>
<li>
<p><code>Permissions</code> &gt; </p>
</li>
<li>
<p><code>Mark the checkbox "Allow to execute the file as a program"</code></p>
</li>
</ul>
</li>
<li>
<p>Terminal:</p>
<div class="highlight"><pre><span></span><code>chmod 755 /path/to/ambertools/lib/python3.x/site-packages/GMXMMPBSA/GMXMMPBSA.sh
</code></pre></div>
</li>
</ul>
</li>
</ul>
</div>
<p><strong>Once you make the source of GMXMMPBSA.sh you can check its operation as follows:</strong></p>
<p><em>All you have to do is enter the name of the program in the terminal and press the tab key twice:</em></p>
<div class="highlight"><pre><span></span><code>gmx_MMPBSA &lt;tab&gt; &lt;tab&gt;
</code></pre></div>
<h2 id="testing-the-operation-of-gmx_mmpbsa">Testing the operation of gmx_MMPBSA<a class="headerlink" href="#testing-the-operation-of-gmx_mmpbsa" title="Permanent link">&para;</a></h2>
<p>After preparing everything to run <code>gmx_MMPBSA</code>, it only remains to check its correct operation. To know how to do it, 
consult the documentation of <a href="examples/gmx_MMPBSA_test.md#running-gmx_mmpbsa_test"><code>gmx_MMPBSA_test</code></a></p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "content.tabs.link", "navigation.expand", "navigation.sections", "navigation.tabs", "navigation.top", "search.highlight", "search.suggest", "toc.integrate"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8492ddcf.min.js"></script>
      
        <script src="../assets/js/termynal.js"></script>
      
        <script src="../assets/js/custom.js"></script>
      
    
  </body>
</html>